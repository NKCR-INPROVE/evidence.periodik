<section *ngIf="facetFields.length > 0 && page == 'results'">
  <mz-collapsible [mode]="'expandable'">
    <mz-collapsible-item *ngFor="let ff of facetFields" [active]="ff.active">
      <mz-collapsible-item-header>
        <i mz-icon-mdi [icon]="ff.icon"></i>{{'field.' + ff.field | translate}} <span class="app-brand-text text-lighten-2">({{ff.values.length}})</span>
        <i mz-icon-mdi [icon]="'chevron-down'" [class]="'app-clean-mg'"></i>
        <i mz-icon-mdi [icon]="'chevron-left'" [class]="'app-clean-mg'"></i>
      </mz-collapsible-item-header>
      <mz-collapsible-item-body>
        <mz-collection>
          <mz-collection-item *ngFor="let f of ff.values">
            <i *ngIf="ff.field=='stav'" [class]="'app-state-item app-state-item-' + f.value"></i>
            <span (click)="add(f)" class="first-content">{{translate(ff, f)}}</span>
            <a  mz-secondary-content>({{f.count}})</a>
          </mz-collection-item>
          <mz-collection-item>
            <strong class="app-cursor-pointer app-brand-text text-lighten-2">{{'text.zobrazit-vice' | translate}} <i class="app-mdi-menu-down"></i></strong>
            <!--<strong class="app-cursor-pointer app-brand-text text-lighten-2">{{'text.zobrazit-mene' | translate}} <i class="app-mdi-menu-up"></i></strong>-->
          </mz-collection-item>
        </mz-collection>
      </mz-collapsible-item-body>
    </mz-collapsible-item>
  </mz-collapsible>
</section><!--/result facets -->


<section *ngIf="facetFields.length > 0 && page == 'home'">
  <div class="row">
    <div *ngFor="let ff of facetFields" class="col s4">
      <mz-collapsible [mode]="'expandable'">
        <mz-collapsible-item [active]="ff.active">
          <mz-collapsible-item-header>
            <i mz-icon-mdi [icon]="ff.icon"></i>{{'field.' + ff.field | translate}} <span class="app-brand-text text-lighten-2">({{ff.values.length}})</span>
            <i mz-icon-mdi [icon]="'chevron-down'" [class]="'app-clean-mg'"></i>
            <i mz-icon-mdi [icon]="'chevron-left'" [class]="'app-clean-mg'"></i>
          </mz-collapsible-item-header>
          <mz-collapsible-item-body>
            <mz-collection>
              <span *ngFor="let f of ff.values; let i = index;" class="app-wrapper">
                <mz-collection-item *ngIf="i <= 4">
                  <span (click)="add(f)" class="first-content">{{translate(ff, f)}}</span>
                  <a  mz-secondary-content>({{f.count}})</a>
                </mz-collection-item>
                <span [class.collapse]="isMoreFacetsCollapsed" [attr.aria-expanded]="isMoreFacetsCollapsed ? 'false' : 'true'">
                  <mz-collection-item *ngIf="i > 4">
                    <span (click)="add(f)" class="first-content">{{translate(ff, f)}}</span>
                    <a  mz-secondary-content>({{f.count}})</a>
                  </mz-collection-item>
                </span>
              </span>
              <mz-collection-item>
                <strong *ngIf="isMoreFacetsCollapsed" class="app-cursor-pointer app-brand-text text-lighten-2" [class.collapsed]="isMoreFacetsCollapsed" (click)="openMoreFacets()">
                  {{'text.zobrazit-vice' | translate}} <i class="app-mdi-menu-down"></i>
                </strong>
                <strong *ngIf="!isMoreFacetsCollapsed" class="app-cursor-pointer app-brand-text text-lighten-2" [class.collapsed]="isMoreFacetsCollapsed" (click)="openMoreFacets()">
                  {{'text.zobrazit-mene' | translate}} <i class="app-mdi-menu-up"></i>
                </strong>
              </mz-collection-item>
            </mz-collection>
          </mz-collapsible-item-body>
        </mz-collapsible-item>
      </mz-collapsible>
    </div><!--/.col -->
  </div><!--/.row -->
</section><!--/home facets -->

  
  <!-- NONE NG VERSION
  <ul  *ngFor="let ff of facetFields" class="collapsible" data-collapsible="expandable">
    <li>
      <div class="collapsible-header">
        <i mz-icon-mdi [icon]="ff.icon"></i>{{'field.' + ff.field | translate}} <span class="app-brand-text text-lighten-2">({{ff.values.length}})</span>
        <i mz-icon-mdi [icon]="'chevron-down'" [class]="'app-clean-mg'"></i>
        <i mz-icon-mdi [icon]="'chevron-left'" [class]="'app-clean-mg'"></i>
      </div>
      <div class="collapsible-body">
        <div class="collection">
          <div *ngFor="let f of ff.values "class="collection-item">
            <i *ngIf="ff.field=='stav'" [class]="'app-state app-state-' + f.value"></i>
            <span (click)="add(f)" class="first-content">{{'text.' + f.value | translate}}</span>
            <a  mz-secondary-content>({{f.count}})</a>
          </div>
        </div>
      </div>
    </li>
  </ul>
  -->

