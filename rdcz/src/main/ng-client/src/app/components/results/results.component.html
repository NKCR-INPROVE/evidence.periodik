<!-- ALERTS -->
<div *ngIf="(state.numFound === 0 && !loading) || (secondRound && !loading)" class="container app-mg-top-20" [class.app-clean-pd-bottom]="state.numFound > 0 && !loading">
  <div class="row">
    <div class="col s12">
      <div class="alert alert-warning center app-card-shadow hoverable app-card-hoverable">
        <i mz-icon-mdi [icon]="'alert'"></i> <strong>{{'alerts.secondRound.title' | translate}}!</strong>
        <span *ngIf="secondRound && !loading && state.numFound > 0">
          {{'alerts.secondRound.msg-1' | translate}}
          <strong (click)="cleanAll()" class="app-cursor-pointer">{{'text.vymazat' | translate}}</strong>
          {{'alerts.secondRound.msg-2' | translate}}?
        </span>
        <span *ngIf="state.numFound === 0 && !loading">
          {{'alerts.noResults.msg-1' | translate}}
          <strong (click)="cleanAll()" class="app-cursor-pointer">{{'text.vymazat' | translate}}</strong>
          {{'alerts.noResults.msg-2' | translate}}.
        </span>
      </div>
    </div><!--/.col -->
  </div><!--/.row -->
</div><!--/.container -->

<!-- RESULTS -->
<div *ngIf="state.numFound > 0" class="container">
  <div class="row">
    <div class="col s12">
      <app-count-bar></app-count-bar>
    </div><!--/.col -->
  </div><!--/.row -->
  <div class="row">
    <div class="col s4">
      <app-loading *ngIf="loading"></app-loading>
      <app-query-as-filter *ngIf="state.q"></app-query-as-filter>
      <app-used-filters></app-used-filters>
      <app-facets  *ngIf="!loading" [allClosed]="false"  [facetFields]="facetFields"></app-facets>
    </div><!--/.col -->
    <div class="col s8">
      <app-sort-bar></app-sort-bar>
      <app-chart-bar [height]="'120px'" [width]="'823px'"></app-chart-bar>
      <section>
        <app-result-item *ngFor="let res of results" [result]="res" [expanded]="expanded[res[state.currentCollapse.field]]"></app-result-item>
      </section>
      <app-pagination></app-pagination>
    </div><!--/.col -->
  </div><!--/.row -->
</div><!--/.container -->