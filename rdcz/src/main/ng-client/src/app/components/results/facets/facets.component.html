<section >
  <mz-collapsible [mode]="'expandable'">
    <mz-collapsible-item *ngFor="let ff of state.facetFields" [active]="ff.active">
      <mz-collapsible-item-header>
        <i mz-icon-mdi [icon]="ff.icon"></i>{{'field.' + ff.field | translate}} <span class="app-brand-text text-lighten-2">({{ff.values.length}})</span>
        <i mz-icon-mdi [icon]="'chevron-down'" [class]="'app-clean-mg'"></i>
        <i mz-icon-mdi [icon]="'chevron-left'" [class]="'app-clean-mg'"></i>
      </mz-collapsible-item-header>
      <mz-collapsible-item-body>
        <mz-collection>
          <ng-container *ngFor="let f of ff.values; let i = index">
            <!-- az bude jejich bug opraven, tuto podminku dat v ramci elementu mz-collection-item -> https://github.com/sherweb/ng2-materialize/issues/144 --> 
            <span *ngIf="isVisible(i, ff)">
              <mz-collection-item>
                <i *ngIf="ff.field=='stav'" [class]="'app-state-item app-state-item-' + f.value"></i>
                <span (click)="add(f)" class="first-content">{{translate(ff, f)}}</span>
                <span *ngIf="ff.showOriginal">{{f.value}}</span>
                <a  mz-secondary-content class="app-brand-text text-lighten-2">({{f.count}})</a>
              </mz-collection-item>
            </span>
          </ng-container>
          <mz-collection-item *ngIf="ff.values.length > 5">
            <strong  *ngIf="!ff.expanded" (click)="toggleMoreFacets(ff)" class="app-cursor-pointer app-brand-text text-lighten-2">
              {{'text.zobrazit-vice' | translate}} <i class="app-mdi-menu-down"></i>
            </strong>
            <strong *ngIf="ff.expanded" (click)="toggleMoreFacets(ff)" class="app-cursor-pointer app-brand-text text-lighten-2">
              {{'text.zobrazit-mene' | translate}} <i class="app-mdi-menu-up"></i>
            </strong>
          </mz-collection-item>
        </mz-collection>
      </mz-collapsible-item-body>
    </mz-collapsible-item>
  </mz-collapsible>
</section><!--/result facets -->

